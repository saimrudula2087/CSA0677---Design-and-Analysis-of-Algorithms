#include <stdio.h>
#include <stdlib.h>
#include <limits.h>
int binarySearch(int arr2[], int size, int key) {
    int low = 0, high = size - 1, mid;
    int result = size; 
    
    while (low <= high) {
        mid = low + (high - low) / 2;
        
        if (arr2[mid] > key) {
            result = mid; // Update result to this index
            high = mid - 1;
        } else {
            low = mid + 1;
        }
    }
    
    return result;
}

int minOperationsToMakeIncreasing(int* arr1, int arr1Size, int* arr2, int arr2Size) {
    int dp[arr1Size];
    dp[0] = 0; 
for (int i = 1; i < arr1Size; ++i) {
        int prevValue = arr1[i - 1];
        int currValue = arr1[i];
        
        int idx = binarySearch(arr2, arr2Size, prevValue);
        
        if (idx < arr2Size && arr2[idx] > prevValue) {
            dp[i] = dp[i - 1] + 1;
        } else {
            dp[i] = INT_MAX; // Initialize as impossible state
        }
        if (idx > 0 && arr2[idx - 1] > prevValue) {
            dp[i] = dp[i] > dp[i - 1] + 1 ? dp[i - 1] + 1 : dp[i];
        }
    }
      return dp[arr1Size - 1] == INT_MAX ? -1 : dp[arr1Size - 1];
}
int main() {
    int arr1[] = {1, 5, 3, 6, 7};
    int arr2[] = {1, 3, 2, 4};
    
    int arr1Size = sizeof(arr1) / sizeof(arr1[0]);
    int arr2Size = sizeof(arr2) / sizeof(arr2[0]);
    
    int result = minOperationsToMakeIncreasing(arr1, arr1Size, arr2, arr2Size);
    printf("Output: %d\n", result); // Output: 1
    
    return 0;
}
